
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>DataLad, Re-Run! &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/basics/101-109-rerun.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Input and output" href="101-110-run2.html" />
    <link rel="prev" title="Keeping track" href="101-108-run.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/basics/101-109-rerun/"/>
  <meta property="og:url" content="https://handbook.datalad.org/basics/101-109-rerun">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="DataLad, Re-Run! &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" title="The DataLad Handbook"/>
  </a>
</p>

<p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="101-108-run.html" title="previous chapter">Keeping track</a></li>
      <li>Next: <a href="101-110-run2.html" title="next chapter">Input and output</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="datalad-re-run">
<span id="run2"></span><h1>DataLad, Re-Run!<a class="headerlink" href="#datalad-re-run" title="Permalink to this headline">¶</a></h1>
<p id="index-0">So far, you created a simple <code class="docutils literal notranslate"><span class="pre">.tsv</span></code> file of all
speakers and talk titles in the <code class="docutils literal notranslate"><span class="pre">longnow/</span></code> podcasts subdataset.
Let’s actually take a look into this file now:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> less recordings/podcasts.tsv
<span class="go">2003-11-15	Brian Eno  The Long Now</span>
<span class="go">2003-12-13	Peter Schwartz  The Art Of The Really Long View</span>
<span class="go">2004-01-10	George Dyson  There s Plenty of Room at the Top  Long term Thinking About Large scale Computing</span>
<span class="go">2004-02-14	James Dewar  Long term Policy Analysis</span>
<span class="go">2004-03-13	Rusty Schweickart  The Asteroid Threat Over the Next 100 000 Years</span>
<span class="go">2004-04-10	Daniel Janzen  Third World Conservation  It s ALL Gardening</span>
<span class="go">2004-05-15	David Rumsey  Mapping Time</span>
<span class="go">2004-06-12	Bruce Sterling  The Singularity  Your Future as a Black Hole</span>
<span class="go">2004-07-10	Jill Tarter  The Search for Extra terrestrial Intelligence  Necessarily a Long term Strategy</span>
<span class="go">2004-08-14	Phillip Longman  The Depopulation Problem</span>
<span class="go">2004-09-11	Danny Hillis  Progress on the 10 000 year Clock</span>
<span class="go">2004-10-16	Paul Hawken  The Long Green</span>
<span class="go">2004-11-13	Michael West  The Prospects of Human Life Extension</span>
<span class="go">2004-12-04	Ken Dychtwald  The Consequences of Human Life Extension</span>
<span class="go">2005-01-15	James Carse  Religious War In Light of the Infinite Game</span>
<span class="go">2005-02-26	Roger Kennedy  The Political History of North America from 25 000 BC to 12 000 AD</span>
<span class="go">2005-03-12	Spencer Beebe  Very Long term Very Large scale Biomimicry</span>
<span class="go">2005-04-09	Stewart Brand  Cities   Time</span>
<span class="go">2005-06-11	Robert Neuwirth  The 21st Century Medieval City</span>
<span class="go">2005-07-16	Jared Diamond  How Societies Fail And Sometimes Succeed</span>
<span class="go">2005-08-13	Robert Fuller  Patient Revolution  Human Rights Past and Future</span>
<span class="go">2005-09-24	Ray Kurzweil  Kurzweil s Law</span>
<span class="go">2005-10-06	Esther Dyson  Freeman Dyson  George Dyson  The Difficulty of Looking Far Ahead</span>
<span class="go">2005-11-15	Clay Shirky  Making Digital Durable  What Time Does to Categories</span>
<span class="go">2005-12-10	Sam Harris  The View from the End of the World</span>
<span class="go">2006-01-14	Ralph Cavanagh  Peter Schwartz  Nuclear Power  Climate Change and the Next 10 000 Years</span>
<span class="go">2006-02-14	Stephen Lansing  Perfect Order  A Thousand Years in Bali</span>
<span class="go">2006-03-11	Kevin Kelly  The Next 100 Years of Science  Long term Trends in the Scientific Method.</span>
<span class="go">2006-04-15	Jimmy Wales  Vision  Wikipedia and the Future of Free Culture</span>
</pre></div>
</div>
<p>Not too bad, and certainly good enough for the podcast night people.
What’s been cool about creating this file is that it was created with
a script within a <strong class="command">datalad run</strong> command. Thanks to <strong class="command">datalad run</strong>,
the output file <code class="docutils literal notranslate"><span class="pre">podcasts.tsv</span></code> is associated with the script it
generated.</p>
<p>Upon reviewing the list you realized that you made a mistake, though: you only
listed the talks in the SALT series (the
<code class="docutils literal notranslate"><span class="pre">Long_Now__Seminars_About_Long_term_Thinking/</span></code> directory), but not
in the <code class="docutils literal notranslate"><span class="pre">Long_Now__Conversations_at_The_Interval/</span></code> directory.
Let’s fix this in the script. Replace the contents in <code class="docutils literal notranslate"><span class="pre">code/list_titles.sh</span></code>
with the following, fixed script:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat &lt;&lt; EOT &gt;<span class="p">|</span> code/list_titles.sh
<span class="hll"><span class="go">for i in recordings/longnow/Long_Now*/*.mp3; do</span>
</span><span class="gp">   #</span> get the filename
<span class="go">   base=\$(basename &quot;\$i&quot;);</span>
<span class="gp">   #</span> strip the extension
<span class="go">   base=\${base%.mp3};</span>
<span class="go">   printf &quot;\${base%%__*}\t&quot; | tr &#39;_&#39; &#39;-&#39;;</span>
<span class="gp">   #</span> name and title without underscores
<span class="go">   printf &quot;\${base#*__}\n&quot; | tr &#39;_&#39; &#39; &#39;;</span>

<span class="go">done</span>
<span class="go">EOT</span>
</pre></div>
</div>
<p>Because the script is now modified, save the modifications to the dataset.
We can use the shorthand “BF” to denote “Bug fix” in the commit message.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad status
<span class="go"> modified: code/list_titles.sh (file)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad save -m <span class="s2">&quot;BF: list both directories content&quot;</span> code/list_titles.sh
<span class="go">add(ok): code/list_titles.sh (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
<p>What we <em>could</em> do is run the same <strong class="command">datalad run</strong> command as before to recreate
the file, but now with all of the contents:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># do not execute this!</span>
$ datalad run -m <span class="s2">&quot;create a list of podcast titles&quot;</span> <span class="s2">&quot;bash code/list_titles.sh &gt; recordings/podcasts.tsv&quot;</span>
</pre></div>
</div>
<p>However, think about any situation where the command would be longer than this,
or that is many months past the first execution. It would not be easy to remember
the command, nor would it be very convenient to copy it from the <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">record</span></code>.</p>
<p>Luckily, a fellow student remembered the DataLad way of re-executing
a <code class="docutils literal notranslate"><span class="pre">run</span></code> command, and he’s eager to show it to you.</p>
<p>“In order to re-execute a <strong class="command">datalad run</strong> command,
find the commit and use its shasum (or a tag, or anything else that Git
understands) as an argument for the
<strong class="command">datalad rerun</strong> command (<em class="manpage"><a class="manpage reference external" href="http://docs.datalad.org/generated/man/datalad-rerun.html">datalad-rerun</a></em> manual)! That’s it!”,
he says happily.</p>
<p>So you go ahead and find the commit <a class="reference internal" href="../glossary.html#term-shasum"><span class="xref std std-term">shasum</span></a> in your history:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git log -n <span class="m">2</span>
<span class="go">commit d04c4afe95721b7f23bddd391a343995b071b8b5</span>
<span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="go">Date:   Tue Nov 12 15:05:22 2019 +0100</span>

<span class="go">    BF: list both directories content</span>

<span class="hll"><span class="go">commit ecde4e4b41d219728bc3f2b28adf2f33b366c533</span>
</span><span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="go">Date:   Tue Nov 12 15:05:21 2019 +0100</span>

<span class="go">    [DATALAD RUNCMD] create a list of podcast titles</span>
</pre></div>
</div>
<p>Take that shasum and paste it after <strong class="command">datalad rerun</strong>
(the first 6-8 characters of the shasum would be sufficient,
here we’re using all of them).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad rerun ecde4e4b41d219728bc3f2b28adf2f33b366c533
<span class="go">[INFO] == Command start (output follows) ===== </span>
<span class="go">[INFO] == Command exit (modification check follows) ===== </span>
<span class="go">add(ok): recordings/podcasts.tsv (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (notneeded: 1, ok: 1)</span>
<span class="go">  unlock (notneeded: 1)</span>
</pre></div>
</div>
<p>Now DataLad has made use of the <code class="docutils literal notranslate"><span class="pre">run</span> <span class="pre">record</span></code>, and
re-executed the original command based on the information in it.
Because we updated the script, the output <code class="docutils literal notranslate"><span class="pre">podcasts.tsv</span></code>
has changed and now contains the podcast
titles of both subdirectories.
You’ve probably already guessed it, but the easiest way
to check whether a <strong class="command">datalad rerun</strong>
has changed the desired output file is
to check whether the rerun command appears in the datasets history:
If a <strong class="command">datalad rerun</strong> does not add or change any content in the dataset,
it will also not be recorded in the history.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git log -n <span class="m">1</span>
<span class="go">commit d26a29bd97a4cb8dd5af34bd3c0ce11626b4c2d9</span>
<span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="hll"><span class="go">Date:   Tue Nov 12 15:05:23 2019 +0100</span>
</span>
<span class="go">    [DATALAD RUNCMD] create a list of podcast titles</span>
<span class="go">    </span>
<span class="go">    === Do not change lines below ===</span>
<span class="go">    {</span>
<span class="go">     &quot;chain&quot;: [</span>
<span class="go">      &quot;ecde4e4b41d219728bc3f2b28adf2f33b366c533&quot;</span>
<span class="go">     ],</span>
<span class="go">     &quot;cmd&quot;: &quot;bash code/list_titles.sh &gt; recordings/podcasts.tsv&quot;,</span>
<span class="go">     &quot;dsid&quot;: &quot;686444f8-0555-11ea-98f1-e86a64c8054c&quot;,</span>
<span class="go">     &quot;exit&quot;: 0,</span>
<span class="go">     &quot;extra_inputs&quot;: [],</span>
<span class="go">     &quot;inputs&quot;: [],</span>
<span class="go">     &quot;outputs&quot;: [],</span>
<span class="go">     &quot;pwd&quot;: &quot;.&quot;</span>
<span class="go">    }</span>
<span class="go">    ^^^ Do not change lines above ^^^</span>
</pre></div>
</div>
<p>In the dataset’s history,
we can see that a new <strong class="command">datalad run</strong> was recorded. This action is
committed by Datalad under the original commit message of the <code class="docutils literal notranslate"><span class="pre">run</span></code>
command, and looks just like the previous <strong class="command">datalad run</strong> commit apart
from the execution time.</p>
<p id="index-1">Two cool tools that go beyond the <strong class="command">git log</strong>
are the <strong class="command">datalad diff</strong> (<em class="manpage"><a class="manpage reference external" href="http://docs.datalad.org/generated/man/datalad-diff.html">datalad-diff</a></em> manual) and <strong class="command">git diff</strong> commands.
Both commands can report differences between two states of
a dataset. Thus, you can get an overview of what changed between two commits.
Both commands have a similar, but not identical structure: <strong class="command">datalad diff</strong>
compares one state (a commit specified with <code class="docutils literal notranslate"><span class="pre">-f</span></code>/<code class="docutils literal notranslate"><span class="pre">--from</span></code>,
by default the latest change)
and another state from the dataset’s history (a commit specified with
<code class="docutils literal notranslate"><span class="pre">-t</span></code>/<code class="docutils literal notranslate"><span class="pre">--to</span></code>). Let’s do a <strong class="command">datalad diff</strong> between the current state
of the dataset and the previous commit (called “<code class="docutils literal notranslate"><span class="pre">HEAD~1</span></code>” in Git terminology):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad diff --to HEAD~1
<span class="go"> modified: recordings/podcasts.tsv (file)</span>
</pre></div>
</div>
<p>This indeed shows the output file as “modified”. However, we do not know
what exactly changed. This is a task for <strong class="command">git diff</strong> (get out of the
diff view by pressing <code class="docutils literal notranslate"><span class="pre">q</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git diff HEAD~1
<span class="go">diff --git a/recordings/podcasts.tsv b/recordings/podcasts.tsv</span>
<span class="go">index f691b53..d77891d 100644</span>
<span class="go">--- a/recordings/podcasts.tsv</span>
<span class="go">+++ b/recordings/podcasts.tsv</span>
<span class="go">@@ -1,3 +1,31 @@</span>
<span class="go">+2017-06-09	How Digital Memory Is Shaping Our Future  Abby Smith Rumsey</span>
<span class="go">+2017-06-09	Pace Layers Thinking  Stewart Brand  Paul Saffo</span>
<span class="go">+2017-06-09	Proof  The Science of Booze  Adam Rogers</span>
<span class="go">+2017-06-09	Seveneves at The Interval  Neal Stephenson</span>
<span class="go">+2017-06-09	Talking with Robots about Architecture  Jeffrey McGrew</span>
<span class="go">+2017-06-09	The Red Planet for Real  Andy Weir</span>
<span class="go">+2017-07-03	Transforming Perception  One Sense at a Time  Kara Platoni</span>
<span class="go">+2017-08-01	How Climate Will Evolve Government and Society  Kim Stanley Robinson</span>
<span class="go">+2017-09-01	Envisioning Deep Time  Jonathon Keats</span>
<span class="go">+2017-10-01	Thinking Long term About the Evolving Global Challenge  The Refugee Reality</span>
<span class="go">+2017-11-01	The Web In An Eye Blink  Jason Scott</span>
<span class="go">+2017-12-01	Ideology in our Genes  The Biological Basis for Political Traits  Rose McDermott</span>
<span class="go">+2017-12-07	Can Democracy Survive the Internet   Nathaniel Persily</span>
<span class="go">+2018-01-02	The New Deal You Don t Know  Louis Hyman</span>
<span class="go">+2018-02-01	Humanity and the Deep Ocean  James Nestor</span>
<span class="go">+2018-03-01	Our Future in Algorithm Farming  Mike Kuniavsky</span>
<span class="go">+2018-04-18	The Organized Pursuit of Knowledge  Margaret Levi</span>
<span class="go">+2018-08-15	Facts  Feelings and Stories  How to Motivate Action on Climate Change  Shahzeen Attari</span>
<span class="go">+2019-03-26	Charting the High Frontier of Space  Ed Lu</span>
<span class="go">+2019-04-04	The Science of Climate Fiction  Can Stories Lead to Social Action   James Holland Jones</span>
<span class="go">+2019-04-10	The Spirit Singularity  Science and the Afterlife at the Turn of the 20th Century  Hannu Rajaniemi</span>
<span class="go">+2019-04-18	The Evolving Science of Behavior Change  Christopher Bryan</span>
<span class="go">+2019-04-30	Siberia  A Journey to the Mammoth Steppe  Stewart Brand  Kevin Kelly  Alexander Rose</span>
<span class="go">+2019-05-06	Can Nationalism be a Resource for Democracy   Maya Tudor</span>
<span class="go">+2019-05-14	Growing Up Ape  The Long term Science of Studying Our Closest Living Relatives  Elizabeth  Lonsdorf</span>
<span class="go">+2019-05-21	Time Poverty Amidst Digital Abundance  Judy Wajcman</span>
<span class="go">+2019-06-07	A Foundation of Trust  Building a Blockchain Future  Brian Behlendorf</span>
<span class="go">+2019-07-12	Learning From Le Guin  Kim Stanley Robinson</span>
<span class="go"> 2003-11-15	Brian Eno  The Long Now</span>
<span class="go"> 2003-12-13	Peter Schwartz  The Art Of The Really Long View</span>
<span class="go"> 2004-01-10	George Dyson  There s Plenty of Room at the Top  Long term Thinking About Large scale Computing</span>
</pre></div>
</div>
<p>This output actually shows the precise changes between the contents created
with the first version of the script and the second script with the bug fix.
All of the files that are added after the second directory
was queried as well are shown in the <code class="docutils literal notranslate"><span class="pre">diff</span></code>, preceded by a <code class="docutils literal notranslate"><span class="pre">+</span></code>.</p>
<p>Quickly create a note about these two helpful commands in <code class="docutils literal notranslate"><span class="pre">notes.txt</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat &lt;&lt; EOT &gt;&gt; notes.txt
<span class="go">There are two useful functions to display changes between two</span>
<span class="go">states of a dataset: &quot;datalad diff -f/--from COMMIT -t/--to COMMIT&quot;</span>
<span class="go">and &quot;git diff COMMIT COMMIT&quot;, where COMMIT is a shasum of a commit</span>
<span class="go">in the history.</span>

<span class="go">EOT</span>
</pre></div>
</div>
<p>Finally, save this note.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad save -m <span class="s2">&quot;add note datalad and git diff&quot;</span>
<span class="go">add(ok): notes.txt (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
<p>Note that <strong class="command">datalad rerun</strong> can re-execute the run records of both a <strong class="command">datalad run</strong>
or a <strong class="command">datalad rerun</strong> command,
but not with any other type of datalad command in your history
such as a <strong class="command">datalad save</strong> on results or outputs after you executed a script.
Therefore, make it a
habit to record the execution of scripts by plugging it into <strong class="command">datalad run</strong>.</p>
<p>This very basic example of a <strong class="command">datalad run</strong> is as simple as it can get, but it
is already
convenient from a memory-load perspective: Now you do not need to
remember the commands or scripts involved in creating an output. DataLad kept track
of what you did, and you can instruct it to just “<code class="docutils literal notranslate"><span class="pre">rerun</span></code>” it.
Also, incidentally, we have generated <a class="reference internal" href="../glossary.html#term-provenance"><span class="xref std std-term">provenance</span></a> information. It is
now recorded in the history of the dataset how the output <code class="docutils literal notranslate"><span class="pre">podcasts.tsv</span></code> came
into existence.</p>
<p>For example, to find out who (or what) created or modified a file,
give the file path to <strong class="command">git log</strong> (prefixed by <code class="docutils literal notranslate"><span class="pre">--</span></code>):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git log -- recordings/podcasts.tsv
<span class="go">commit d26a29bd97a4cb8dd5af34bd3c0ce11626b4c2d9</span>
<span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="go">Date:   Tue Nov 12 15:05:23 2019 +0100</span>

<span class="go">    [DATALAD RUNCMD] create a list of podcast titles</span>
<span class="go">    </span>
<span class="go">    === Do not change lines below ===</span>
<span class="go">    {</span>
<span class="go">     &quot;chain&quot;: [</span>
<span class="go">      &quot;ecde4e4b41d219728bc3f2b28adf2f33b366c533&quot;</span>
<span class="go">     ],</span>
<span class="go">     &quot;cmd&quot;: &quot;bash code/list_titles.sh &gt; recordings/podcasts.tsv&quot;,</span>
<span class="go">     &quot;dsid&quot;: &quot;686444f8-0555-11ea-98f1-e86a64c8054c&quot;,</span>
<span class="go">     &quot;exit&quot;: 0,</span>
<span class="go">     &quot;extra_inputs&quot;: [],</span>
<span class="go">     &quot;inputs&quot;: [],</span>
<span class="go">     &quot;outputs&quot;: [],</span>
<span class="go">     &quot;pwd&quot;: &quot;.&quot;</span>
<span class="go">    }</span>
<span class="go">    ^^^ Do not change lines above ^^^</span>

<span class="go">commit ecde4e4b41d219728bc3f2b28adf2f33b366c533</span>
<span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="go">Date:   Tue Nov 12 15:05:21 2019 +0100</span>

<span class="go">    [DATALAD RUNCMD] create a list of podcast titles</span>
<span class="go">    </span>
<span class="go">    === Do not change lines below ===</span>
<span class="go">    {</span>
<span class="go">     &quot;chain&quot;: [],</span>
<span class="go">     &quot;cmd&quot;: &quot;bash code/list_titles.sh &gt; recordings/podcasts.tsv&quot;,</span>
<span class="go">     &quot;dsid&quot;: &quot;686444f8-0555-11ea-98f1-e86a64c8054c&quot;,</span>
<span class="go">     &quot;exit&quot;: 0,</span>
<span class="go">     &quot;extra_inputs&quot;: [],</span>
<span class="go">     &quot;inputs&quot;: [],</span>
<span class="go">     &quot;outputs&quot;: [],</span>
<span class="go">     &quot;pwd&quot;: &quot;.&quot;</span>
<span class="go">    }</span>
<span class="go">    ^^^ Do not change lines above ^^^</span>
</pre></div>
</div>
<p>Neat, isn’t it?</p>
<p>Still, this <strong class="command">datalad run</strong> was very simple.
The next section will demonstrate how <strong class="command">datalad run</strong> becomes handy in
more complex standard use cases: situations with <em>locked</em> contents.</p>
<p>But prior to that, make a note about <strong class="command">datalad run</strong> and <strong class="command">datalad rerun</strong> in your
<code class="docutils literal notranslate"><span class="pre">notes.txt</span></code> file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat &lt;&lt; EOT &gt;&gt; notes.txt
<span class="go">The datalad run command can record the impact a script or command has on a Dataset.</span>
<span class="go">In its simplest form, datalad run only takes a commit message and the command that</span>
<span class="go">should be executed.</span>

<span class="go">Any datalad run command can be re-executed by using its commit shasum as an argument</span>
<span class="go">in datalad rerun CHECKSUM. DataLad will take information from the run record of the original</span>
<span class="go">commit, and re-execute it. If no changes happen with a rerun, the command will not be written</span>
<span class="go">to history. Note: you can also rerun a datalad rerun command!</span>

<span class="go">EOT</span>
</pre></div>
</div>
<p>Finally, save this note.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad save -m <span class="s2">&quot;add note on basic datalad run and datalad rerun&quot;</span>
<span class="go">add(ok): notes.txt (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="101-108-run.html" title="Previous document">Keeping track</a>
        </li>
        <li>
          <a href="101-110-run2.html" title="Next document">Input and output</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>