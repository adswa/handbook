
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>How to hide content from DataLad &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/basics/101-179-gitignore.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="A typical collaborative data management workflow" href="../usecases/collaborative_data_management.html" />
    <link rel="prev" title="Summary: YODA principles" href="101-124-summary.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/basics/101-179-gitignore/"/>
  <meta property="og:url" content="https://handbook.datalad.org/basics/101-179-gitignore">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="How to hide content from DataLad &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" title="The DataLad Handbook"/>
  </a>
</p>

<p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="101-124-summary.html" title="previous chapter">Summary: YODA principles</a></li>
      <li>Next: <a href="../usecases/collaborative_data_management.html" title="next chapter">A typical collaborative data management workflow</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="how-to-hide-content-from-datalad">
<h1>How to hide content from DataLad<a class="headerlink" href="#how-to-hide-content-from-datalad" title="Permalink to this headline">¶</a></h1>
<p>You have progressed quite far in the DataLad-101 course,
and by now, you have gotten a good overview on the basics
and <em>not-so-basic-anymore</em>s of DataLad.
You know how to add, modify, and save files, even completely
reproducibly, and how to share your work with others.</p>
<p>By now, the <strong class="command">datalad save</strong> command is probably
the most often used command in this dataset.
This means that you have seen some of its peculiarities.
The most striking was that it by default
will save the complete datasets status if one does not provide
a path to a file change. This would result in all content
that is either modified or untracked being saved in a single
commit. This, by the way, is the reason why a <strong class="command">datalad run</strong>
requires a clean dataset: The <strong class="command">datalad save</strong> that a <strong class="command">datalad run</strong> ends with
internally should only save changes that can be attributed to
the command that was run, and not changes that existed already
but were yet unsaved.</p>
<p>In principle, a general recommendation may be to keep your DataLad
dataset clean. This assists a structured way of working and prevents
clutter, and it also nicely records provenance inside your dataset.
If you have content in your dataset that has been untracked for 9 months
it will be hard to remember where this content came from, whether it
is relevant, and if it is relevant, for what. Adding content to your
dataset will thus usually not do harm – certainly not for your
dataset.</p>
<p>However, there may be valid reasons to keep content out of
DataLads version control and tracking. Maybe you hide your secret
<code class="docutils literal notranslate"><span class="pre">my-little-pony-themesongs/</span></code> collection within <code class="docutils literal notranslate"><span class="pre">Deathmetal/</span></code>
and do not want a record of this in your history or the directory
being shared together with the rest of the dataset. Who knows?
We would not judge in any way. In principle, you already know a few
tricks on how to be “messy” and have untracked files.
For <strong class="command">datalad save</strong>, you know that precise file paths allow
you to save only those modifications you want to change.
For <strong class="command">datalad run</strong> you know that one
can specify the <code class="docutils literal notranslate"><span class="pre">--explicit</span></code> option
to only save those modifications that are specified in the <code class="docutils literal notranslate"><span class="pre">--output</span></code>
argument.</p>
<p>But there are two ways to leave untracked content unaffected
by a <strong class="command">datalad save</strong>. One is an option within <strong class="command">datalad save</strong>
itself:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ datalad save -m &quot;my commit message here&quot; -u/--updated
</pre></div>
</div>
<p>will only save dataset modifications to previously tracked
paths. If <code class="docutils literal notranslate"><span class="pre">my-little-pony-themesongs/</span></code> is not yet tracked,
a <code class="docutils literal notranslate"><span class="pre">datalad</span> <span class="pre">save</span> <span class="pre">-u</span></code> will leave it untouched, and its existence
or content is not written to the history of your dataset.</p>
<p>A second way of hiding content from DataLad is a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>
file. As the name suggests, it is a <a class="reference internal" href="../glossary.html#term-git"><span class="xref std std-term">Git</span></a> related solution,
but it works just as well for DataLad.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file is a file that specifies which files should
be <em>ignored</em> by the version control tool.
To use a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file, simply create a file with this
name in the root of your dataset (be mindful: remember the leading <code class="docutils literal notranslate"><span class="pre">.</span></code>!).
You can use one of <a class="reference external" href="https://github.com/github/gitignore">thousands of publicly shared examples</a>,
or create your own one.</p>
<p>To specify dataset content to be git-ignored, you can either write
a full file name, e.g. <code class="docutils literal notranslate"><span class="pre">playlists/my-little-pony-themesongs/Friendship-is-magic.mp3</span></code>
into this file, or paths or patterns that make use of globbing, such as
<code class="docutils literal notranslate"><span class="pre">playlists/my-little-pony-themesongs/*</span></code>. Afterwards,
you just need to save the file once to your dataset so that it is version controlled.
If you have new content you do not want to track, you can add
new paths or patterns to the file, and save these modifications.</p>
<p>Let’s try this with a very basic example: Let’s git-ignore all content in
a <code class="docutils literal notranslate"><span class="pre">tmp/</span></code> directory in the <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat &lt;&lt; EOT &gt; .gitignore

<span class="go">tmp/*</span>
<span class="go">EOT</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad status
<span class="go">untracked: .gitignore (file)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad save -m <span class="s2">&quot;add something to ignore&quot;</span> .gitignore
<span class="go">add(ok): .gitignore (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file is very minimalistic, but its sufficient to show
how it works. If you now create a <code class="docutils literal notranslate"><span class="pre">tmp/</span></code> directory, all of its contents would be
ignored by your datasets version control. Let’s do so, and add a file into it
that we do not (yet?) want to save to the dataset’s history.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> mkdir tmp
<span class="gp">$</span> <span class="nb">echo</span> <span class="s2">&quot;this is just noise&quot;</span> &gt; tmp/a_random_ignored_file
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad status
</pre></div>
</div>
<p>As expected, the file does not show up as untracked – it is being
ignored! Therefore, a <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file can give you a space inside of
your dataset to be messy, if you want to be.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note one caveat: If a command creates an output that is git-ignored,
(e.g. anything inside of <code class="docutils literal notranslate"><span class="pre">tmp/</span></code> in our dataset), a subsequent command
that requires it as an undisclosed input will only succeed if both
commands a ran in succession. The second command will fail if re-ran on its own,
however.</p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="101-124-summary.html" title="Previous document">Summary: YODA principles</a>
        </li>
        <li>
          <a href="../usecases/collaborative_data_management.html" title="Next document">A typical collaborative data management workflow</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>