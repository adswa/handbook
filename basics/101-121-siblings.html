
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Networking &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/basics/101-121-siblings.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Summary" href="101-120-summary.html" />
    <link rel="prev" title="Stay up to date" href="101-119-sharelocal4.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/basics/101-121-siblings/"/>
  <meta property="og:url" content="https://handbook.datalad.org/basics/101-121-siblings">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Networking &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" title="The DataLad Handbook"/>
  </a>
</p>

<p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="101-119-sharelocal4.html" title="previous chapter">Stay up to date</a></li>
      <li>Next: <a href="101-120-summary.html" title="next chapter">Summary</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="networking">
<span id="sibling"></span><h1>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">¶</a></h1>
<p>To get a hang on the basics of sharing a dataset,
you shared your <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset with your
room mate on a common, local file system. Your lucky
room mate now has your notes and can thus try to catch
up to still pass the course.
Moreover, though, he can also integrate all other notes
or changes you make to your dataset, and stay up to date.
This is because a DataLad dataset makes updating shared
data a matter of a single <strong class="command">datalad update --merge</strong> command.</p>
<p>But why does this need to be a one-way line? “I want to
provide helpful information for you as well!”, says your
room mate. “How could you get any insightful notes that
I make in my dataset, or maybe the results of our upcoming
mid-term project? Its a bit unfair that I can get your work,
but you can not get mine.”</p>
<p>Consider, for example, that your room mate might have googled about DataLad
a bit. On the <a class="reference external" href="https://www.datalad.org/">datalad homepage</a>
he might have found very useful additional information, such
as the ascii-cast on <a class="reference external" href="https://www.datalad.org/for/git-users">dataset nesting</a>.
Because he found this very helpful in understanding dataset
nesting concepts, he decided to download the <code class="docutils literal notranslate"><span class="pre">shell</span></code> script
that was <a class="reference external" href="https://raw.githubusercontent.com/datalad/datalad.org/7e8e39b1f08d0a54ab521586f27ee918b4441d69/content/asciicast/seamless_nested_repos.sh">used to generate this example</a>
from Github, and saves it in the <code class="docutils literal notranslate"><span class="pre">code/</span></code> directory.</p>
<p id="index-0">He does it using the datalad command <strong class="command">datalad download-url</strong>
(<em class="manpage"><a class="manpage reference external" href="http://docs.datalad.org/generated/man/datalad-download-url.html">datalad-download-url</a></em> manual)
that he also read about on the datalad homepage.
This command will download a file just as <code class="docutils literal notranslate"><span class="pre">wget</span></code>, but it can
also take a commit message and will save the download
right to the history!</p>
<p>Navigate into your dataset copy in <code class="docutils literal notranslate"><span class="pre">mock_user/DataLad-101</span></code>,
and run the following command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> navigate into the installed copy
<span class="gp">$</span> <span class="nb">cd</span> ../mock_user/DataLad-101

<span class="gp">#</span> download the shell script and save it in your code/ directory
<span class="gp">$</span> datalad download-url <span class="se">\</span>
  -m <span class="s2">&quot;Include nesting demo from datalad website&quot;</span> <span class="se">\</span>
  -O code/nested_repos.sh <span class="se">\</span>
  https://raw.githubusercontent.com/datalad/datalad.org/7e8e39b1f08d0a54ab521586f27ee918b4441d69/content/asciicast/seamless_nested_repos.sh
<span class="go">[INFO] Downloading &#39;https://raw.githubusercontent.com/datalad/datalad.org/7e8e39b1f08d0a54ab521586f27ee918b4441d69/content/asciicast/seamless_nested_repos.sh&#39; into &#39;code/nested_repos.sh&#39; </span>
<span class="go">download_url(ok): code/nested_repos.sh (file)</span>
<span class="go">add(ok): code/nested_repos.sh (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  download_url (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
<p>Run a quick datalad status:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad status
</pre></div>
</div>
<p>Nice, the <strong class="command">datalad download-url</strong> command saved this download
right into the history, and <strong class="command">datalad status</strong> does not report
unsaved modifications! We’ll show an excerpt of the last commit
here:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git log -1 -p
<span class="go">commit 834615c670935bb5cb682ef301c6167d6786f02f</span>
<span class="go">Author: Elena Piscopia &lt;elena@example.net&gt;</span>
<span class="go">Date:   Tue Nov 12 15:05:39 2019 +0100</span>

<span class="go">    Include nesting demo from datalad website</span>

<span class="go">diff --git a/code/nested_repos.sh b/code/nested_repos.sh</span>
<span class="go">new file mode 100644</span>
<span class="go">index 0000000..f84c817</span>
<span class="go">--- /dev/null</span>
<span class="go">+++ b/code/nested_repos.sh</span>
<span class="go">@@ -0,0 +1,59 @@</span>
<span class="go">+#!/bin/bash</span>
<span class="go">+# This script was converted using cast2script from:</span>
<span class="go">+# docs/casts/seamless_nested_repos.sh</span>
<span class="go">+set -e -u</span>
<span class="go">+export GIT_PAGER=cat</span>
<span class="go">+</span>
<span class="go">+# DataLad provides seamless management of nested Git repositories...</span>
<span class="go">+</span>
<span class="go">+# Let&#39;s create a dataset</span>
<span class="go">+datalad create demo</span>
<span class="go">+cd demo</span>
<span class="go">+</span>
<span class="go">+# A DataLad dataset is just a Git repo with some initial configuration</span>
<span class="go">+git log --oneline</span>
<span class="go">+</span>
<span class="go">+# We can generate nested datasets, by telling DataLad to register a</span>
<span class="go">+# new dataset in a parent dataset</span>
</pre></div>
</div>
<p>Suddenly, your room mate has a file change that you do not have.
His dataset evolved.</p>
<p>So how do we link back from the copy of the dataset to its
origin, such that your room mate’s changes can be included in
your dataset? How do we let the original dataset “know” about
this copy your room mate has?
Do we need to install the installed dataset of our room mate
as a copy again?</p>
<p>No, luckily, it’s simpler and less convoluted. What we have to
do is to <em>register</em> a datalad <a class="reference internal" href="../glossary.html#term-sibling"><span class="xref std std-term">sibling</span></a>: A reference to our room mate’s
dataset in our own, original dataset.</p>
<div class="admonition gitusernote">
<p class="admonition-title">Note for Git users</p>
<p>Git repositories can configure clones of a dataset as <em>remotes</em> in
order to fetch, pull, or push from and to them. A <strong class="command">datalad sibling</strong>
is the equivalent of a git clone that is configured as a remote.</p>
</div>
<p>Let’s see how this is done.</p>
<p id="index-1">First of all, navigate back into the original dataset.
In the original dataset, “add” a “sibling” by using
the <strong class="command">datalad siblings</strong> command (<em class="manpage"><a class="manpage reference external" href="http://docs.datalad.org/generated/man/datalad-siblings.html">datalad-siblings</a></em> manual).
The command takes the base command,
<strong class="command">datalad siblings</strong>, an action, in this case <code class="docutils literal notranslate"><span class="pre">add</span></code>, a path to the
root of the dataset <code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">.</span></code>, a name for the sibling, <code class="docutils literal notranslate"><span class="pre">-s/--name</span> <span class="pre">roommate</span></code>,
and a URL or path to the sibling, <code class="docutils literal notranslate"><span class="pre">--url</span> <span class="pre">../mock_user/DataLad-101</span></code>.
This registers your room mate’s <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> as a “sibling” (we will call it
“roommate”) to your own <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> ../../DataLad-101
<span class="gp">#</span> add a sibling
<span class="gp">$</span> datalad siblings add -d . --name roommate --url ../mock_user/DataLad-101
<span class="go">.: roommate(+) [../mock_user/DataLad-101 (git)]</span>
</pre></div>
</div>
<p>There are a few confusing parts about this command: For one, do not be surprised
about the <code class="docutils literal notranslate"><span class="pre">--url</span></code> argument – it’s called “URL” but it can be a path as well.
Also, do not forget to give a name to your dataset’s sibling. Without the <code class="docutils literal notranslate"><span class="pre">-s</span></code>/
<code class="docutils literal notranslate"><span class="pre">--name</span></code> argument the command will fail. The reason behind this is that the default
name of a sibling if no name is given will be the host name of the specified URL,
but as you provide a path and not a URL, there is no host name to take as a default.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>remove this once <a class="reference external" href="https://github.com/datalad/datalad/issues/3553">https://github.com/datalad/datalad/issues/3553</a> is fixed</p>
</div>
<p>As you can see in the command output, the addition of a sibling succeeded:
<code class="docutils literal notranslate"><span class="pre">roommate(+)[../mock_user/DataLad-101]</span></code> means that your room mate’s dataset
is now known to your own dataset as “roommate”</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad siblings
<span class="go">.: here(+) [git]</span>
<span class="go">.: roommate(+) [../mock_user/DataLad-101 (git)]</span>
</pre></div>
</div>
<p>This command will list all known siblings of the dataset. You can see it
in the resulting list with the name “roommate” you have given to it.</p>
<div class="toggle findoutmore docutils container">
<div class="header docutils container">
<p><strong>Find out more: </strong>What if I mistyped the name or want to remove the sibling?</p>
</div>
<p>You can remove a sibling using <strong class="command">datalad siblings remove -s roommate</strong></p>
</div>
<p>The fact that the <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset now has a sibling means that we
can also <strong class="command">datalad update</strong> this repository. Awesome!</p>
<p>Your room mate previously ran a <strong class="command">datalad update --merge</strong> in the section
<a class="reference internal" href="101-119-sharelocal4.html#update"><span class="std std-ref">Stay up to date</span></a>. This got him
changes <em>he knew you made</em> into a dataset that <em>he so far did not change</em>.
This meant that nothing unexpected would happen with the
<strong class="command">datalad update --merge</strong>.</p>
<p>But consider the current case: Your room mate made changes to his
dataset, but you do not necessarily know which. You also made
changes to your dataset in the meantime, and added a note on
<strong class="command">datalad update</strong>.
How would you know that his changes and
your changes are not in conflict with each other?</p>
<p>This scenario is where a plain <strong class="command">datalad update</strong> becomes useful.
If you run a plain <strong class="command">datalad update</strong>, DataLad will query the sibling
for changes, and store those changes in a safe place in your own
dataset, <em>but it will not yet integrate them into your dataset</em>.
This gives you a chance to see whether you actually want to have the
changes your room mate made.</p>
<p>Let’s see how it’s done. First, run a plain <strong class="command">datalad update</strong> without
the <code class="docutils literal notranslate"><span class="pre">--merge</span></code> option.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad update -s roommate
<span class="go">[INFO] Fetching updates for &lt;Dataset path=/home/me/dl-101/DataLad-101&gt; </span>
<span class="go">update(ok): . (dataset)</span>
</pre></div>
</div>
<p>Note that we supplied the siblings name with the <code class="docutils literal notranslate"><span class="pre">-s</span></code>/<code class="docutils literal notranslate"><span class="pre">--name</span></code> option.
This is good practice, and allows you to be precise in where you want to get
updates from. It would have worked without the specification (just as a bare
<strong class="command">datalad update --merge</strong> worked for your room mate), because there is only
one other known location, though.</p>
<p>This plain <strong class="command">datalad update</strong> informs you that it “fetched” updates from
the dataset. The changes however, are not yet visible – the script that
he added is not yet in your <code class="docutils literal notranslate"><span class="pre">code/</span></code> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ls code/
<span class="go">list_titles.sh</span>
</pre></div>
</div>
<p>So where is the file? It is in a different <em>branch</em> of your dataset.</p>
<p>If you do not use <a class="reference internal" href="../glossary.html#term-git"><span class="xref std std-term">Git</span></a>, the concept of a <a class="reference internal" href="../glossary.html#term-branch"><span class="xref std std-term">branch</span></a> can be a big
source of confusion. There will be sections later in this book that will
elaborate a bit more what branches are, and how to work with them, but
for now envision a branch just like a bunch of drawers on your desk.
The paperwork that you have in front of you right on your desk is your
dataset as you currently see it.
These drawers instead hold documents that you are in principle working on,
just not now – maybe different versions of paperwork you currently have in
front of you, or maybe other files than the ones currently in front of you
on your desk.</p>
<p>Imagine that a <strong class="command">datalad update</strong> created a small drawer, placed all of
the changed or added files from the sibling inside, and put it on your
desk. You can now take a look into that drawer to see whether you want
to have the changes right in front of you.</p>
<p>The drawer is a branch, and it is usually called <code class="docutils literal notranslate"><span class="pre">remotes/origin/master</span></code>.
To look inside of it you can <strong class="command">git checkout BRANCHNAME</strong>, or you can
do a <code class="docutils literal notranslate"><span class="pre">diff</span></code> between the branch (your drawer) and the dataset as it
is currently in front of you (your desk). We will do the latter, and leave
the former for a different lecture:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad diff --to remotes/roommate/master
<span class="go">    added: code/nested_repos.sh (file)</span>
<span class="go"> modified: notes.txt (file)</span>
</pre></div>
</div>
<p>This shows us that there is an additional file, and it also shows us
that there is a difference in <code class="docutils literal notranslate"><span class="pre">notes.txt</span></code>! Let’s ask
<strong class="command">git diff</strong> to show us what the differences in detail:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git diff remotes/roommate/master
<span class="go">diff --git a/code/nested_repos.sh b/code/nested_repos.sh</span>
<span class="go">deleted file mode 100644</span>
<span class="go">index f84c817..0000000</span>
<span class="go">--- a/code/nested_repos.sh</span>
<span class="go">+++ /dev/null</span>
<span class="go">@@ -1,59 +0,0 @@</span>
<span class="go">-#!/bin/bash</span>
<span class="go">-# This script was converted using cast2script from:</span>
<span class="go">-# docs/casts/seamless_nested_repos.sh</span>
<span class="go">-set -e -u</span>
<span class="go">-export GIT_PAGER=cat</span>
<span class="go">-</span>
<span class="go">-# DataLad provides seamless management of nested Git repositories...</span>
<span class="go">-</span>
<span class="go">-# Let&#39;s create a dataset</span>
<span class="go">-datalad create demo</span>
<span class="go">-cd demo</span>
<span class="go">-</span>
<span class="go">-# A DataLad dataset is just a Git repo with some initial configuration</span>
<span class="go">-git log --oneline</span>
<span class="go">-</span>
<span class="go">-# We can generate nested datasets, by telling DataLad to register a</span>
<span class="go">-# new dataset in a parent dataset</span>
<span class="go">-datalad create -d . sub1</span>
<span class="go">-</span>
<span class="go">-# A subdataset is nothing more than regular Git submodule</span>
<span class="go">-git submodule</span>
<span class="go">-</span>
<span class="go">-# Of course subdatasets can be nested</span>
<span class="go">-datalad create -d . sub1/justadir/sub2</span>
<span class="go">-</span>
<span class="go">-# Unlike Git, DataLad automatically takes care of committing all</span>
<span class="go">-# changes associated with the added subdataset up to the given</span>
<span class="go">-# parent dataset</span>
<span class="go">-git status</span>
<span class="go">-</span>
<span class="go">-# Let&#39;s create some content in the deepest subdataset</span>
<span class="go">-mkdir sub1/justadir/sub2/anotherdir</span>
<span class="go">-touch sub1/justadir/sub2/anotherdir/afile</span>
<span class="go">-</span>
<span class="go">-# Git can only tell us that something underneath the top-most</span>
<span class="go">-# subdataset was modified</span>
<span class="go">-git status</span>
<span class="go">-</span>
<span class="go">-# DataLad saves us from further investigation</span>
<span class="go">-datalad diff -r</span>
<span class="go">-</span>
<span class="go">-# Like Git, it can report individual untracked files, but also across</span>
<span class="go">-# repository boundaries</span>
<span class="go">-datalad diff -r --report-untracked all</span>
<span class="go">-</span>
<span class="go">-# Adding this new content with Git or git-annex would be an exercise</span>
<span class="go">-git add sub1/justadir/sub2/anotherdir/afile || true</span>
<span class="go">-</span>
<span class="go">-# DataLad does not require users to determine the correct repository</span>
<span class="go">-# in the tree</span>
<span class="go">-datalad add -d . sub1/justadir/sub2/anotherdir/afile</span>
<span class="go">-</span>
<span class="go">-# Again, all associated changes in the entire dataset tree, up to</span>
<span class="go">-# the given parent dataset, were committed</span>
<span class="go">-git status</span>
<span class="go">-</span>
<span class="go">-# DataLad&#39;s &#39;diff&#39; is able to report the changes from these related</span>
<span class="go">-# commits throughout the repository tree</span>
<span class="go">-datalad diff --revision @~1 -r</span>
<span class="go">diff --git a/notes.txt b/notes.txt</span>
<span class="go">index 4babdbd..eea54f5 100644</span>
<span class="go">--- a/notes.txt</span>
<span class="go">+++ b/notes.txt</span>
<span class="go">@@ -59,3 +59,7 @@ The command &quot;git annex whereis PATH&quot; lists the repositories that have</span>
<span class="go"> the file content of an annexed file. When using &quot;datalad get&quot; to retrieve</span>
<span class="go"> file content, those repositories will be queried.</span>
<span class="go"> </span>
<span class="go">+To update a shared dataset, run the command &quot;datalad update --merge&quot;.</span>
<span class="go">+This command will query its origin for changes, and integrate the</span>
<span class="go">+changes into the dataset.</span>
<span class="go">+</span>
</pre></div>
</div>
<p>Let’s digress into what is shown here.
We are comparing the current state of your dataset against
the current state of your room mate’s dataset. Everything marked with
a <code class="docutils literal notranslate"><span class="pre">-</span></code> is a change that your room mate has, but not you: This is the
script that he downloaded!</p>
<p>Everything that is marked with a <code class="docutils literal notranslate"><span class="pre">+</span></code> is a change that you have,
but not your room mate: It is the additional note on <strong class="command">datalad update</strong>
you made in your own dataset in the previous section.</p>
<p>Cool! So now that you know what the changes are that your room mate
made, you can safely <strong class="command">datalad update --merge</strong> them to integrate
them into your dataset. In technical terms you will
“<em>merge the branch remotes/roommate/master into master</em>”.
But the details of this will be stated in a standalone section later.</p>
<p>Note that the fact that your room mate does not have the note
on <strong class="command">datalad update</strong> does not influence your note. It will not
get deleted by the merge. You do not set your dataset to the state
of your room mate’s dataset, but you incorporate all changes he made
– which is only the addition of the script.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad update --merge -s roommate
<span class="go">[INFO] Fetching updates for &lt;Dataset path=/home/me/dl-101/DataLad-101&gt; </span>
<span class="go">[INFO] Applying updates to &lt;Dataset path=/home/me/dl-101/DataLad-101&gt; </span>
<span class="go">update(ok): . (dataset)</span>
</pre></div>
</div>
<p>The exciting question is now whether your room mate’s change is now
also part of your own dataset. Let’s list the contents of the <code class="docutils literal notranslate"><span class="pre">code/</span></code>
directory and also peek into the history:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> ls code/
<span class="go">list_titles.sh</span>
<span class="go">nested_repos.sh</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> git log --oneline
<span class="hll"><span class="go">db8aa3a Merge remote-tracking branch &#39;refs/remotes/roommate/master&#39;</span>
</span><span class="go">834615c Include nesting demo from datalad website</span>
<span class="hll"><span class="go">0e85c3e add note about datalad update</span>
</span><span class="go">2e7a3ad add note on git annex whereis</span>
<span class="go">73f44c4 add note about installing from paths and recursive installations</span>
</pre></div>
</div>
<p>Wohoo! Here it is: The script now also exists in your own dataset.
You can see the commit that your room mate made when he saved the script,
and you can also see a commit that records how you <code class="docutils literal notranslate"><span class="pre">merged</span></code> your
room mate’s dataset changes into your own dataset. The commit message of this
latter commit for now might contain many words yet unknown to you if you
do not use Git, but a later section will get into the details of what
the meaning of “<a class="reference internal" href="../glossary.html#term-merge"><span class="xref std std-term">merge</span></a>”, “<a class="reference internal" href="../glossary.html#term-branch"><span class="xref std std-term">branch</span></a>”, “refs”
or “<a class="reference internal" href="../glossary.html#term-master"><span class="xref std std-term">master</span></a>” is.</p>
<p>For now, you’re happy to have the changes your room mate made available.
This is how it should be! You helped him, and he helps you. Awesome!
There actually is a wonderful word for it: <em>Collaboration</em>.
Thus, without noticing, you have successfully collaborated for the first
time using DataLad datasets.</p>
<p>Create a note about this, and save it.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> cat &lt;&lt; EOT &gt;&gt; notes.txt
<span class="go">To update from a dataset with a shared history, you</span>
<span class="go">need to add this dataset as a sibling to your dataset.</span>
<span class="go">&quot;Adding a sibling&quot; means providing DataLad with info about</span>
<span class="go">the location of a dataset, and a name for it. Afterwards,</span>
<span class="go">a &quot;datalad update --merge -s name&quot; will integrate the changes</span>
<span class="go">made to the sibling into the dataset.</span>
<span class="go">A safe step in between is to do a &quot;datalad update -s name&quot;</span>
<span class="go">and checkout the changes with &quot;git/datalad diff&quot;</span>
<span class="go">to remotes/origin/master</span>

<span class="go">EOT</span>
<span class="gp">$</span> datalad save -m <span class="s2">&quot;Add note on adding siblings&quot;</span>
<span class="go">add(ok): notes.txt (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="101-119-sharelocal4.html" title="Previous document">Stay up to date</a>
        </li>
        <li>
          <a href="101-120-summary.html" title="Next document">Summary</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>