
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Where’s Waldo? &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/basics/101-117-sharelocal2.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Retrace and reenact" href="101-118-sharelocal3.html" />
    <link rel="prev" title="Looking without touching" href="101-116-sharelocal.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/basics/101-117-sharelocal2/"/>
  <meta property="og:url" content="https://handbook.datalad.org/basics/101-117-sharelocal2">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Where’s Waldo? &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" title="The DataLad Handbook"/>
  </a>
</p>

<p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="101-116-sharelocal.html" title="previous chapter">Looking without touching</a></li>
      <li>Next: <a href="101-118-sharelocal3.html" title="next chapter">Retrace and reenact</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="where-s-waldo">
<span id="sharelocal2"></span><h1>Where’s Waldo?<a class="headerlink" href="#where-s-waldo" title="Permalink to this headline">¶</a></h1>
<p>So far, your room mate and you have created a copy of the <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code>
dataset on the same file system but a different place by installing
it from a path.</p>
<p>You have observed that the <code class="docutils literal notranslate"><span class="pre">-r</span></code>/<code class="docutils literal notranslate"><span class="pre">--recursive</span></code>
option needs to be given to <strong class="command">datalad install</strong>
in order to install subdatasets right away. Only then
is the subdatasets file content availability metadata to explore
the file hierarchy available within the subdataset right
from the start. Alternatively, a subsequent <strong class="command">datalad install</strong>
in the subdataset or with a path to the subdataset takes care
of the missing installation.</p>
<p>And you have mesmerized your room mate by showing him how <a class="reference internal" href="../glossary.html#term-git-annex"><span class="xref std std-term">Git-annex</span></a>
retrieved large file contents from the original dataset.</p>
<p>Let’s now see the <strong class="command">git annex whereis</strong> command in more detail,
and find out how Git-annex knows <em>where</em> file content can be obtained from.
Within the original <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset, you retrieved some of the <code class="docutils literal notranslate"><span class="pre">.mp3</span></code>
files via <strong class="command">datalad get</strong>, but not others. How will this influence the
output of <strong class="command">git annex whereis</strong>, you wonder?</p>
<p>Together with your room mate, you decide to find out. You navigate
back into the installed copy, and run <strong class="command">git annex whereis</strong> on a
file that you once retrieved file content for, and on a file
that you did not yet retrieve file content for.
Here is the output for the retrieved file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> navigate back into the installed copy of DataLad-101
<span class="gp">$</span> <span class="nb">cd</span> ../mock_user/DataLad-101
<span class="gp">#</span> navigate into the subdirectory
<span class="gp">$</span> <span class="nb">cd</span> recordings/longnow
<span class="gp">#</span> file content exists in original DataLad-101 <span class="k">for</span> this file
<span class="gp">$</span> git annex whereis Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3
<span class="go">whereis Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3 (3 copies) </span>
<span class="go">  	00000000-0000-0000-0000-000000000001 -- web</span>
<span class="go">	11ec6b34-3c78-4e53-a38b-5286feb14b49 -- me@muninn:~/dl-101/DataLad-101/recordings/longnow [origin]</span>
<span class="go">   	da3bf937-5bd2-43ea-a07b-bcbe71f3b875 -- mih@medusa:/tmp/seminars-on-longterm-thinking</span>

<span class="go">  web: http://podcast.longnow.org/salt/redirect/salt-020031114-eno-podcast.mp3</span>
<span class="go">ok</span>
</pre></div>
</div>
<p>And here is the output for a file that you did not yet retrieve
content for in your original <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> but not <span class="k">for</span> this:
<span class="gp">$</span> git annex whereis Long_Now__Seminars_About_Long_term_Thinking/2005_01_15__James_Carse__Religious_War_In_Light_of_the_Infinite_Game.mp3
<span class="go">whereis Long_Now__Seminars_About_Long_term_Thinking/2005_01_15__James_Carse__Religious_War_In_Light_of_the_Infinite_Game.mp3 (2 copies) </span>
<span class="go">  	00000000-0000-0000-0000-000000000001 -- web</span>
<span class="go">   	da3bf937-5bd2-43ea-a07b-bcbe71f3b875 -- mih@medusa:/tmp/seminars-on-longterm-thinking</span>

<span class="go">  web: http://podcast.longnow.org/salt/redirect/salt-020050114-carse-podcast.mp3</span>
<span class="go">ok</span>
</pre></div>
</div>
<p>As you can see, the file content previously downloaded with a
<strong class="command">datalad get</strong> has a third source, your original dataset on your computer.
The file we did not yet retrieve in the original dataset
only has only two sources.</p>
<p>Let’s see how this affects a <strong class="command">datalad get</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> get the first file
<span class="gp">$</span> datalad get Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3
<span class="go">get(ok): Long_Now__Seminars_About_Long_term_Thinking/2003_11_15__Brian_Eno__The_Long_Now.mp3 (file) [from origin...]</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> get the second file
<span class="gp">$</span> datalad get Long_Now__Seminars_About_Long_term_Thinking/2005_01_15__James_Carse__Religious_War_In_Light_of_the_Infinite_Game.mp3
<span class="go">get(ok): Long_Now__Seminars_About_Long_term_Thinking/2005_01_15__James_Carse__Religious_War_In_Light_of_the_Infinite_Game.mp3 (file) [from web...]</span>
</pre></div>
</div>
<p>The most important thing to note is: It worked in both cases, regardless of whether the original
<code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset contained the file content or not.</p>
<p>We can see that Git-annex used two different sources to retrieve the content from,
though, if we look at the very end of the <code class="docutils literal notranslate"><span class="pre">get</span></code> summary.
The first file was retrieved “<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">origin...</span></code>”. <code class="docutils literal notranslate"><span class="pre">Origin</span></code> is Git terminology
for “from where the dataset was copied from” – <code class="docutils literal notranslate"><span class="pre">origin</span></code> therefore is the
original <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> dataset.</p>
<p>The second file was retrieved “<code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">web...</span></code>”, and thus from a different source.
This source is called <code class="docutils literal notranslate"><span class="pre">web</span></code> because it actually is a URL through which this particular
podcast-episode is made available in the first place. You might also have noticed that the
download from web took longer than the retrieval from the directory on the same
file system. But we will get into the details
of this type of content source
once we cover the <code class="docutils literal notranslate"><span class="pre">importfeed</span></code> and <code class="docutils literal notranslate"><span class="pre">add-url</span></code> functions<a class="footnote-reference brackets" href="#f1" id="id1">1</a>.</p>
<p>Let’s for now add a note on the <strong class="command">git annex whereis</strong> command. Again, do
this in the original <code class="docutils literal notranslate"><span class="pre">DataLad-101</span></code> directory, and do not forget to save it.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> navigate back:
<span class="gp">$</span> <span class="nb">cd</span> ../../../../DataLad-101

<span class="gp">#</span> write the note
<span class="gp">$</span> cat &lt;&lt; EOT &gt;&gt; notes.txt
<span class="go">The command &quot;git annex whereis PATH&quot; lists the repositories that have</span>
<span class="go">the file content of an annexed file. When using &quot;datalad get&quot; to retrieve</span>
<span class="go">file content, those repositories will be queried.</span>

<span class="go">EOT</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad status
<span class="go"> modified: notes.txt (file)</span>
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad save -m <span class="s2">&quot;add note on git annex whereis&quot;</span>
<span class="go">add(ok): notes.txt (file)</span>
<span class="go">save(ok): . (dataset)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  save (ok: 1)</span>
</pre></div>
</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Maybe you wonder what the location <code class="docutils literal notranslate"><span class="pre">mih&#64;medusa</span></code> is. It is a copy of the
data on an account belonging to user <code class="docutils literal notranslate"><span class="pre">mih</span></code> on the host name <code class="docutils literal notranslate"><span class="pre">medusa</span></code>.
Because we do not have the host names’ address, nor log-in credentials for
this user, we can not retrieve content from this location. However, somebody
else (for example the user <code class="docutils literal notranslate"><span class="pre">mih</span></code>) could.</p>
</dd>
</dl>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="101-116-sharelocal.html" title="Previous document">Looking without touching</a>
        </li>
        <li>
          <a href="101-118-sharelocal3.html" title="Next document">Retrace and reenact</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>