
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Retrace and reenact &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/basics/101-118-sharelocal3.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Stay up to date" href="101-119-sharelocal4.html" />
    <link rel="prev" title="Where’s Waldo?" href="101-117-sharelocal2.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/basics/101-118-sharelocal3/"/>
  <meta property="og:url" content="https://handbook.datalad.org/basics/101-118-sharelocal3">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Retrace and reenact &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" title="The DataLad Handbook"/>
  </a>
</p>

<p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="101-117-sharelocal2.html" title="previous chapter">Where’s Waldo?</a></li>
      <li>Next: <a href="101-119-sharelocal4.html" title="next chapter">Stay up to date</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="retrace-and-reenact">
<span id="sharelocal3"></span><h1>Retrace and reenact<a class="headerlink" href="#retrace-and-reenact" title="Permalink to this headline">¶</a></h1>
<p>“Thanks a lot for sharing your dataset with me! This
is super helpful. I’m sure I’ll catch up in no time!”,
your room mate says confidently. “How far did you get
with the DataLad commands yet?” he asks at last.</p>
<p>“Mhh, I think the last big one was <strong class="command">datalad run</strong>.
Actually, let me quickly show you what this command
does. There is something that I’ve been wanting to try
anyway.” you say.</p>
<p>The dataset you shared contained a number of <strong class="command">datalad run</strong>
commands. For example, you created the simple <code class="docutils literal notranslate"><span class="pre">podcasts.tsv</span></code>
file that listed all titles and speaker names of the longnow
podcasts.</p>
<p>Given that you learned to created “proper” <strong class="command">datalad run</strong> commands,
complete with <code class="docutils literal notranslate"><span class="pre">--input</span></code> and <code class="docutils literal notranslate"><span class="pre">--output</span></code> specification,
anyone should be able to <strong class="command">datalad rerun</strong> these commits
easily. This is what you want to try now.</p>
<p>You begin to think about which <strong class="command">datalad run</strong> commit would be
the most useful one to take a look at. The creation of
<code class="docutils literal notranslate"><span class="pre">podcasts.tsv</span></code> was a bit lame – at this point in time, you
didn’t yet know about <code class="docutils literal notranslate"><span class="pre">--input</span></code> and <code class="docutils literal notranslate"><span class="pre">--output</span></code> arguments,
and the resulting output is present anyway because text files
like this <code class="docutils literal notranslate"><span class="pre">.tsv</span></code> file are stored in Git.
However, one of the attempts to resize a picture could be
useful. The input, the podcast logos, is not yet retrieved,
nor is the resulting, resized image. “Let’s go for this!”,
you say, and drag your confused room mate to the computer
screen.</p>
<p>First of all, find the commit shasum of the command you
want to run by taking a look into the history of the dataset
(in the shared dataset):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> navigate into the shared copy
<span class="gp">$</span> <span class="nb">cd</span> ../mock_user/DataLad-101
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">#</span> lets view the <span class="nb">history</span>
<span class="gp">$</span> git log --oneline
<span class="go">dd6fef5 add note on clean datasets</span>
<span class="hll"><span class="go">d9d0872 [DATALAD RUNCMD] Resize logo for slides</span>
</span><span class="go">36a9cfd [DATALAD RUNCMD] Resize logo for slides</span>
<span class="go">244c234 add additional notes on run options</span>
<span class="go">e3277e9 [DATALAD RUNCMD] convert -resize 450x450 recordings/longn...</span>
<span class="go">257130b resized picture by hand</span>
<span class="go">6e624f5 [DATALAD RUNCMD] convert -resize 400x400 recordings/longn...</span>
<span class="go">327fd83 add note on basic datalad run and datalad rerun</span>
<span class="go">4e3fb6e add note datalad and git diff</span>
<span class="go">d26a29b [DATALAD RUNCMD] create a list of podcast titles</span>
<span class="go">d04c4af BF: list both directories content</span>
<span class="go">ecde4e4 [DATALAD RUNCMD] create a list of podcast titles</span>
<span class="go">ef8b726 Add simple script to write a list of podcast speakers and titles</span>
<span class="go">e61c229 Add note on datalad install</span>
<span class="go">49e85d1 [DATALAD] Recorded changes</span>
<span class="go">5f98f2b add note on datalad save</span>
<span class="go">b72b237 Add notes on datalad create</span>
<span class="go">dac2fa7 add reference book about git</span>
<span class="go">9a6fb63 add books on Python and Unix to read later</span>
<span class="go">1a45fd4 Instruct annex to add text files to Git</span>
<span class="go">e85b950 [DATALAD] new dataset</span>
</pre></div>
</div>
<p>Ah, there it is, the second most recent commit.
Just as already done in section <a class="reference internal" href="101-109-rerun.html#run2"><span class="std std-ref">DataLad, Re-Run!</span></a>,
take this shasum and plug it into a <strong class="command">datalad rerun</strong>
command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> datalad rerun d9d087295ff9e7fc9369333098e277437b5b093e
<span class="go">[INFO] Making sure inputs are available (this may take some time) </span>
<span class="go">[WARNING] no content present; cannot unlock [unlock(/home/me/dl-101/mock_user/DataLad-101/recordings/salt_logo_small.jpg)] </span>
<span class="go">[INFO] == Command start (output follows) ===== </span>
<span class="go">[INFO] == Command exit (modification check follows) ===== </span>
<span class="go">get(ok): recordings/longnow/.datalad/feed_metadata/logo_salt.jpg (file) [from origin...]</span>
<span class="go">remove(ok): recordings/salt_logo_small.jpg</span>
<span class="go">add(ok): recordings/salt_logo_small.jpg (file)</span>
<span class="go">action summary:</span>
<span class="go">  add (ok: 1)</span>
<span class="go">  get (ok: 1)</span>
<span class="go">  remove (ok: 1)</span>
<span class="go">  save (notneeded: 2)</span>
</pre></div>
</div>
<p>“This was so easy!” you exclaim. DataLad retrieved the missing
file content from the subdataset and it tried to unlock the output
prior to the command execution. Note that because you did not retrieve
the output, <code class="docutils literal notranslate"><span class="pre">recordings/salt_logo_small.jpg</span></code>, yet, the missing content
could not be unlocked. DataLad warns you about this, but proceeds
successfully.</p>
<p>Your room mate now not only knows how exactly the resized file
came into existence, but he can also reproduce your exact steps to
create it. “This is as reproducible as it can be!” you think in awe.</p>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="101-117-sharelocal2.html" title="Previous document">Where’s Waldo?</a>
        </li>
        <li>
          <a href="101-119-sharelocal4.html" title="Next document">Stay up to date</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>