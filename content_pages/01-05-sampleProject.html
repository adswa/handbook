
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Dataset description &#8212; The DataLad Handbook</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="canonical" href="http://handbook.datalad.org/content_pages/01-05-sampleProject.html" />
    <link rel="shortcut icon" href="../_static/tigerBrain_favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Overview of fMRI analysis" href="02-01-overview.html" />
    <link rel="prev" title="Glossary of useful terms" href="01-04-glossary.html" />
  

  

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    div.body {
      min-width: initial;
      max-width: initial;
    }
  </style>

  
  <link rel="canonical" href="https://handbook.datalad.org/content_pages/01-05-sampleProject/"/>
  <meta property="og:url" content="https://handbook.datalad.org/content_pages/01-05-sampleProject">
  

  <link rel="icon" type="image/png" href="https://media.readthedocs.org/images/favicon.png">

  <meta name="twitter:card" content="summary">
  <meta property="twitter:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:image" content="https://handbook.datalad.org/_static/social-card.jpg">
  <meta property="og:title" content="Dataset description &#8212; The DataLad Handbook">
  <meta property="og:type" content="article">
  
  <meta property="og:description" content="">


  </head><body>
  <script type="text/javascript">

  $(window).scroll(function () {
    var s = $(window).scrollTop(),
          d = $(document).height(),
          c = $(window).height();
          scrollPercent = (s / (d-c)) * 100;
          var position = scrollPercent;

     $("#progressbar").attr('value', position);
  });
  </script>

  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo">
  <a href="../index.html">
    <img class="logo" width="500" src="../_static/tigerBrain.png" title="The Princeton Handbook on Reproducible Neuroimaging"/>
  </a>
</p>

<!-- <p style="margin-left:auto; margin-right: auto;"><iframe src="https://ghbtns.com/github-btn.html?repo=book&user=datalad-handbook&type=star&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe></p> -->

<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> -->
<style>
.algolia-autocomplete{
  width: 100%;
  height: 1.5em
}
.algolia-autocomplete a{
  border-bottom: none !important;
}
#doc_search{
  width: 100%;
  height: 100%;
}
</style>

<progress id="progressbar" value="0" max="100"></progress>
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Dataset description</a><ul>
<li><a class="reference internal" href="#tasks-in-the-sample-project">Tasks in the sample project</a></li>
<li><a class="reference internal" href="#folder-structure-in-the-sample-project-directory-and-useful-things">Folder structure in the sample project directory and useful things</a></li>
<li><a class="reference internal" href="#how-to-use-the-sample-project">How to use the sample project:</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="01-04-glossary.html" title="previous chapter">Glossary of useful terms</a></li>
      <li>Next: <a href="02-01-overview.html" title="next chapter">Overview of fMRI analysis</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><!-- Alabaster (krTheme++) Hacks -->
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            <div style="display:block;position:relative; margin-bottom: 1em;">
              <div style="display:block;width:100%;padding-top:12.5%;"></div>
              <div class="rpad" data-unit="8x1" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;"></div>
            </div>
            
  <div class="section" id="dataset-description">
<span id="sampleproject"></span><h1>Dataset description<a class="headerlink" href="#dataset-description" title="Permalink to this headline">¶</a></h1>
<p>We have gotten consent from a subject (sub-001) to scan him and share everything, including personally identifiable information. This is useful for learning because many available datasets have already removed personal information, which makes sense for obvious reasons. However, this isn’t always the best thing for learning how to preprocess datasets because the data shared is already in BIDS/NIfTI format, and/or already has the face removed. We’re giving you everything as if it has just come right from the scanner!</p>
<p>We’ve shared the dataset right from the beginning of where the files are located on the PNI cluster, as if you just transferred the folder from the scanner.</p>
<p>Here is the faux conquest location to simulate where it has come from the scanner console:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/jukebox/norman/pygers/conquest/0219191_mystudy-0219-1114
</pre></div>
</div>
<p>Here is the location of the study directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/jukebox/norman/pygers/handbook/sample_project
</pre></div>
</div>
<div class="section" id="tasks-in-the-sample-project">
<h2>Tasks in the sample project<a class="headerlink" href="#tasks-in-the-sample-project" title="Permalink to this headline">¶</a></h2>
<p>We had sub-001 perform a couple of different tasks:</p>
<ul class="simple">
<li><p><strong>sound</strong>: Sound check before scanning</p></li>
<li><p><strong>story</strong>: He listened to a story in the scanner. For more information on this specific story, see <a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5348256/">Yeshurun et al 2017</a> describing the auditory stimulus.</p></li>
<li><p><strong>faces</strong>: He performed the face-matching task <a class="reference external" href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4474282/">Chai et al 2015</a>.</p></li>
</ul>
</div>
<div class="section" id="folder-structure-in-the-sample-project-directory-and-useful-things">
<h2>Folder structure in the sample project directory and useful things<a class="headerlink" href="#folder-structure-in-the-sample-project-directory-and-useful-things" title="Permalink to this headline">¶</a></h2>
<p><em>(not all scripts/folders are listed here)</em></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--| sample_project
    --| code
        --| preprocessing
            --| globals.sh  -- look how the specification of folders were set up
                            here and adapt to your project accordingly
        --| analysis
            --| aparc+aseg_registration.sh  -- example script for freesurfer → EPI registration
            --| resample.py -- function to resample to different grids
    --| data
        --| bids
            --| sub-001     -- nifti converted files from running heudiconv
            --| derivatives
                --| mriqc
                    --| derivatives
                    --| reports
                    --| logs
                --| fmriprep
                    --| sub-001
                    --| sub-001.html
                    --| logs
                --| freesurfer
        --| dicom
            --| 0219191_mystudy-0219-1114   -- this is the entire folder that was transferred from
                            the scanning folder in step1_preproc.sh
            --| check_volumes   -- outputs checking that all dicoms transferred
        --| T1w_defaced -- this is where the defaced anatomical gets moved
            --| sub-001_ses-01_T1w_defaced.nii.gz
</pre></div>
</div>
</div>
<div class="section" id="how-to-use-the-sample-project">
<h2>How to use the sample project:<a class="headerlink" href="#how-to-use-the-sample-project" title="Permalink to this headline">¶</a></h2>
<p>All of the sample codes are written for this sample project, so make sure you edit all of the relevant variables before you run! (Start with the <strong>globals.sh</strong> and make sure to edit your email for all of the slurm scripts!)</p>
<p>The basic hierarchy with the preprocessing scripts is that there is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="p">)</span> <span class="n">a</span> <span class="n">slurm</span> <span class="n">script</span><span class="p">:</span> <span class="n">outer</span><span class="o">-</span><span class="n">most</span> <span class="n">call</span> <span class="n">to</span> <span class="n">scheduler</span><span class="p">:</span> <span class="n">use</span> <span class="n">sbatch</span> <span class="n">to</span> <span class="n">run</span> <span class="n">on</span> <span class="n">command</span> <span class="n">line</span>
    <span class="n">a</span><span class="p">)</span> <span class="n">bash</span> <span class="n">script</span><span class="p">:</span> <span class="n">command</span> <span class="n">to</span> <span class="n">call</span> <span class="n">processing</span> <span class="n">script</span> <span class="n">like</span><span class="p">:</span>
        <span class="o">-</span> <span class="n">a</span> <span class="n">singularity</span> <span class="n">image</span> <span class="n">call</span> <span class="p">(</span><span class="n">fmriprep</span><span class="p">,</span> <span class="n">mriqc</span><span class="p">)</span>
        <span class="o">-</span> <span class="n">a</span> <span class="n">python</span> <span class="n">scipt</span> <span class="p">(</span><span class="n">like</span> <span class="k">with</span> <span class="n">pydeface</span> <span class="ow">or</span> <span class="nb">any</span> <span class="n">python</span> <span class="n">script</span> <span class="n">you</span> <span class="n">might</span> <span class="n">want</span> <span class="n">to</span> <span class="n">run</span> <span class="n">on</span> <span class="n">the</span> <span class="n">cluster</span>
</pre></div>
</div>
<p>So if something doesn’t make sense, then start with the highest level script, and then work your way down to get a sense for what’s happening!</p>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="01-04-glossary.html" title="Previous document">Glossary of useful terms</a>
        </li>
        <li>
          <a href="02-01-overview.html" title="Next document">Overview of fMRI analysis</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
<div class="footer">
  <div style="text-align: left;" id="waldo-tag-2171"></div>
  <p>&copy;2019 CC-BY-SA - <a href="website_info.html">Website Info</a></p>
</div>


 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>

  </body>
</html>